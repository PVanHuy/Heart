<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>M√≥n qu√† th√∫ v·ªã</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        background: linear-gradient(180deg, #3e3c6e, #fe979b, #feae97, #f6e8df);
        color: white;
        height: 100vh;
        overflow: hidden;
      }

      .container {
        text-align: center;
        position: relative;
        width: 100%;
        height: 100%;
      }

      .banner {
        position: fixed;
        top: 20px;
        width: 100%;
        height: 50px;
        background-color: rgba(0, 0, 0, 0.8);
        display: flex;
        align-items: center;
        overflow: hidden;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        z-index: 1000;
      }

      .marquee {
        width: 100%;
        white-space: nowrap;
        overflow: hidden;
        position: relative;
      }

      .marquee span {
        display: inline-block;
        color: #fff;
        font-size: 1.2rem;
        animation: marquee 10s linear infinite;
      }

      @keyframes marquee {
        0% {
          transform: translateX(100%);
        }
        100% {
          transform: translateX(-100%);
        }
      }

      .buttons {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 20%;
      }

      .btn {
        padding: 10px 20px;
        font-size: 1rem;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }

      .btn-yes {
        background-color: #28a745;
        color: white;
      }

      .btn-no {
        background-color: #dc3545;
        color: white;
        position: relative;
      }

      .canvas-container {
        display: none;
        width: 100%;
        height: 100%;
        position: relative;
      }

      #effectFrame {
        width: 100%;
        height: 100%;
        border: none;
      }

      /* N√∫t ƒëi·ªÅu h∆∞·ªõng m≈©i t√™n */
      .arrow-btn {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        width: 50px;
        height: 50px;
        background-color: #fe979b;
        border: none;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
      }

      .arrow-btn:hover {
        background-color: rgba(255, 255, 255, 0.8);
        color: black;
      }

      /* ƒê·ªãnh d·∫°ng m≈©i t√™n */
      .arrow-left::before,
      .arrow-right::before {
        content: "";
        display: block;
        width: 10px;
        height: 10px;
        border: solid white;
        border-width: 0 3px 3px 0;
        transform: rotate(45deg);
      }

      .arrow-left {
        left: 20px;
      }

      .arrow-left::before {
        transform: rotate(135deg); /* M≈©i t√™n quay tr√°i */
      }

      .arrow-right {
        right: 20px;
      }

      .arrow-right::before {
        transform: rotate(-45deg); /* M≈©i t√™n quay ph·∫£i */
      }

      .music-bar {
        position: fixed;
        bottom: 20px;
        width: 90%;
        max-width: 600px;
        background: rgba(0, 0, 0, 0.8);
        display: flex;
        align-items: center;
        justify-content: space-around;
        padding: 10px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      }

      .music-bar button {
        background: none;
        border: none;
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
      }

      .music-bar button:hover {
        color: #feae97;
      }
      .gif-container {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        width: 150px;
        height: 150px;
      }

      .left-gif {
        left: 10px;
      }

      .right-gif {
        right: 10px;
      }

      .gif-container img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
    </style>
  </head>

  <body>
    <!-- Nh·∫°c n·ªÅn -->
    <audio id="audioPlayer" src="./assets/music/song1.mp3"></audio>

    <div class="container" id="startScreen">
      <div class="banner">
        <div class="marquee">
          <span
            >G·ª≠i b·∫°n m·ªôt m√≥n qu√† th√∫ v·ªã! üéÅ Thay cho l·ªùi xin l·ªói üòû ƒê·ª´ng gi·∫≠n
            m√¨nh n·ªØa nhan</span
          >
        </div>
      </div>

      <!-- Th√™m hai ·∫£nh ƒë·ªông ho·∫∑c GIF -->
      <div class="gif-container left-gif">
        <img src="./assets/gif/left.gif" alt="Ho·∫°t ·∫£nh tr√°i" />
      </div>
      <div class="gif-container right-gif">
        <img src="./assets/gif/right.gif" alt="Ho·∫°t ·∫£nh ph·∫£i" />
      </div>

      <div class="buttons">
        <button class="btn btn-yes" id="btnYes">ƒê·ªìng √Ω</button>
        <button class="btn btn-no" id="btnNo">Kh√¥ng</button>
      </div>
    </div>

    <div class="canvas-container" id="canvasContainer">
      <iframe id="effectFrame"></iframe>
      <!-- N√∫t L√πi -->
      <button class="arrow-btn arrow-left" id="btnPrev"></button>
      <!-- N√∫t T·ªõi -->
      <button class="arrow-btn arrow-right" id="btnNext"></button>
    </div>

    <!-- Thanh nghe nh·∫°c -->
    <div class="music-bar">
      <button id="btnPrevTrack">‚èÆ</button>
      <button id="btnPlayPause">‚ñ∂Ô∏è</button>
      <button id="btnNextTrack">‚è≠</button>
    </div>

    <script>
      const btnYes = document.getElementById("btnYes");
      const btnNo = document.getElementById("btnNo");
      const btnPrev = document.getElementById("btnPrev");
      const btnNext = document.getElementById("btnNext");
      const startScreen = document.getElementById("startScreen");
      const canvasContainer = document.getElementById("canvasContainer");
      const effectFrame = document.getElementById("effectFrame");

      const audioPlayer = document.getElementById("audioPlayer");
      const btnPlayPause = document.getElementById("btnPlayPause");
      const btnPrevTrack = document.getElementById("btnPrevTrack");
      const btnNextTrack = document.getElementById("btnNextTrack");

      const noMessage = "ƒê·ª´ng gi·∫≠n m√¨nh n·ªØa m·ªù üòû";

      let currentEffect = 0;
      const effects = [
        "./effects/effect1.html",
        "./effects/effect2.html",
        "./effects/effect3.html",
        "./effects/effect4.html",
      ];

      let isPlaying = false;
      let currentTrack = 0;
      const tracks = [
        "./assets/music/song1.mp3",
        "./assets/music/song2.mp3",
        "./assets/music/song3.mp3",
        "./assets/music/song4.mp3",
      ];

      // Hi·ªÉn th·ªã m√†n h√¨nh hi·ªáu ·ª©ng
      btnYes.addEventListener("click", () => {
        startScreen.style.display = "none";
        canvasContainer.style.display = "flex";
        runEffect();
      });

      // Hi·ªÉn th·ªã th√¥ng b√°o khi nh·∫•n "Kh√¥ng"
      btnNo.addEventListener("click", () => {
        alert(noMessage);
      });

      // N√∫t "T·ªõi"
      btnNext.addEventListener("click", () => {
        currentEffect = (currentEffect + 1) % effects.length; // Quay v√≤ng
        runEffect();
      });

      // N√∫t "L√πi"
      btnPrev.addEventListener("click", () => {
        currentEffect = (currentEffect - 1 + effects.length) % effects.length; // Quay v√≤ng
        runEffect();
      });

      // Ch·∫°y hi·ªáu ·ª©ng
      function runEffect() {
        effectFrame.src = effects[currentEffect];
      }

      // Thanh nh·∫°c: Ph√°t ho·∫∑c t·∫°m d·ª´ng
      btnPlayPause.addEventListener("click", () => {
        if (isPlaying) {
          audioPlayer.pause();
          btnPlayPause.textContent = "‚ñ∂Ô∏è";
        } else {
          audioPlayer.play();
          btnPlayPause.textContent = "‚è∏";
        }
        isPlaying = !isPlaying;
      });

      // Thanh nh·∫°c: Chuy·ªÉn b√†i
      btnNextTrack.addEventListener("click", () => {
        currentTrack = (currentTrack + 1) % tracks.length;
        audioPlayer.src = tracks[currentTrack];
        audioPlayer.play();
        btnPlayPause.textContent = "‚è∏";
        isPlaying = true;
      });

      btnPrevTrack.addEventListener("click", () => {
        currentTrack = (currentTrack - 1 + tracks.length) % tracks.length;
        audioPlayer.src = tracks[currentTrack];
        audioPlayer.play();
        btnPlayPause.textContent = "‚è∏";
        isPlaying = true;
      });
    </script>
  </body>
</html>
